# **4.2 import**

包的引入

示例：

```
//引入单个包
import "fmt"
//引入多个包
import (
	"fmt"
	"strings"
)
```

**相对目录**

```
import   "./model"  //当前文件同一目录的model目录
```

**绝对目录**

```
 绝对路径    import   "www/model"  //加载$GOPATH/src/www/model模块
```

**特殊用法**

**点操作**

```
import( 
       . "fmt" 
) 

```

这个点操作的含义就是这个包导入之后在你调用这个包的函数时，你可以省略前缀的包名。

```
fmt.Println("fasd")
```

可以简写成

```
Println("fasd")
```

**别名操作**

别名操作顾名思义可以把包命名成另一个用起来容易记忆的名字，示例：

```
package main

import (
	f "fmt"
)
func main() {	
	f.Println("fasd")
}

```

**下划线**

这个操作经常是让很多人费解的一个操作符，请看下面这个import

```
import (
   "database/sql"
   _ "github.com/go-sql-driver/mysql"
   "log"
)
"_"操作其实只是引入该包。当导入一个包时，它所有的init()函数就会被执行，但有些时候并非真的需要使用这些包，仅仅是希望它的init()函数被执行而已。这个时候就可以使用"_"操作引用该包了。即使用_操作引用包是无法通过包名来调用包中的导出函数，而是只是为了简单的调用其init函数()。
```

**包的引入过程**

程序的初始化和执行都起始于main包。如果main包还导入了其它的包，那么就会在编译时将它们依次导入。有时一个包会被多个包同时导入，那么它只会被导入一次（例如很多包可能都会用到fmt包，但它只会被导入一次，因为没有必要导入多次）。当一个包被导入时，如果该包还导入了其它的包，那么会先将其它包导入进来，然后再对这些包中的包级常量和变量进行初始化，接着执行init函数（如果有的话），依次类推。等所有被导入的包都加载完毕了，就会开始对main包中的包级常量和变量进行初始化，然后执行main包中的init函数（如果存在的话），最后执行main函数。下图详细地解释了整个执行过程：



![4.2.1.jpg](https://github.com/guyan0319/golang_development_notes/blob/master/images/4.2.1.jpg?raw=true)

## links

- [目录](https://github.com/guyan0319/golang_development_notes/blob/master/zh/preface.md)
- 上一节： [自定义包（package）](https://github.com/guyan0319/golang_development_notes/blob/master/zh/4.1.md)
- 下一节：[mysql（go-sql-driver/mysql）](https://github.com/guyan0319/golang_development_notes/blob/master/zh/5.1.md)

